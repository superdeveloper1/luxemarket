<!DOCTYPE html>
<html>
<head>
    <title>Data Version Test</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .product { background: #f0f0f0; padding: 10px; margin: 5px 0; border-radius: 3px; }
        .version { background: #e0ffe0; padding: 10px; margin: 10px 0; border-radius: 3px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>LuxeMarket Data Version Test</h1>
    
    <div id="version" class="version">Loading version...</div>
    
    <h3>Current Products:</h3>
    <div id="products">Loading products...</div>
    
    <h3>Actions:</h3>
    <button onclick="forceReset()">Force Reset to v1.7</button>
    <button onclick="loadData()">Reload Data</button>

    <script src="utils/data.js"></script>
    <script>
        function loadData() {
            const version = localStorage.getItem('luxemarket_data_version') || 'Not set';
            document.getElementById('version').innerHTML = `Data Version: ${version}`;
            
            const products = ProductManager.getAll();
            const productsDiv = document.getElementById('products');
            productsDiv.innerHTML = '';
            
            products.forEach((product, index) => {
                const div = document.createElement('div');
                div.className = 'product';
                div.innerHTML = `${index + 1}. ${product.name} - $${product.price} (ID: ${product.id})`;
                productsDiv.appendChild(div);
            });
        }
        
        function forceReset() {
            localStorage.removeItem('luxemarket_products');
            localStorage.removeItem('luxemarket_categories');
            localStorage.removeItem('luxemarket_data_version');
            location.reload();
        }
        
        // Load data when page loads
        loadData();
    </script>
</body>
</html>